# ZSH configuration
alias zshconf="$EDITOR ~/.zshrc"
alias zshreload="exec zsh"

# SSH configuration
alias sshconf="$EDITOR ~/.ssh/config"
alias sshknown="$EDITOR ~/.ssh/known_hosts"
alias sshpubkey="cat ~/.ssh/id.pub"
alias sshremove="~/.config/tmux/scripts/ssh-key-remove.sh"

# Some tmux goodies
alias tm="~/.config/tmux/scripts/tmux-sessionizer.sh"

# Use bat instead of cat
if (( $+commands[bat] )); then
  alias cat="bat"
fi

# Use dust instead of du
if (( $+commands[dust] )); then
  alias du="dust"
fi

# eza in place of ls
if (( $+commands[eza] )); then
  alias ls="eza"
  alias la="eza -la"
  alias l="eza -l"
  alias tree="eza --tree"
elif (( $+commands[exa] )); then
  alias ls="exa"
  alias la="exa -la"
  alias l="exa -l"
  alias tree="exa --tree"
fi

# lazygit
if (( $+commands[lazygit] )); then
  alias lg="lazygit"
fi

# homebrew with fzf if available
if (( $+commands[brew] )); then
  if (( $+commands[fzf] )); then
    function fuzzy_brew_install() {
      local inst=$(brew formulae | fzf-tmux -p --border-label " Install brew formula " --select-1 --exit-0 --query="$1" --preview "HOMEBREW_COLOR=true brew info {}")
      if [[ $inst ]]; then
        brew install $inst
      else
        echo "No install candidate selected."
      fi
    }

    function fuzzy_brew_uninstall() {
      local inst=$(brew leaves | fzf-tmux -p --border-label " Uninstall brew formula " --select-1 --exit-0 --query="$1" --preview "HOMEBREW_COLOR=true brew info {}")
      if [[ $inst ]]; then
        brew uninstall --zap $inst
      else
        echo "No install candidate selected."
      fi
    }

    function fuzzy_brew_cask_install() {
      local inst=$(brew casks | fzf-tmux -p --border-label " Install brew cask " --select-1 --exit-0 --query="$1" --preview "HOMEBREW_COLOR=true brew info --cask {}")
      if [[ $inst ]]; then
        brew install --cask $inst
      else
        echo "No install candidate selected."
      fi
    }

    function fuzzy_brew_cask_uninstall() {
      local inst=$(brew list --cask | fzf-tmux -p --border-label " Uninstall brew cask " --select-1 --exit-0 --query="$1" --preview "HOMEBREW_COLOR=true brew info --cask {}")
      if [[ $inst ]]; then
        brew uninstall --cask --zap $inst
      else
        echo "No install candidate selected."
      fi
    }

    alias bi=fuzzy_brew_install
    alias bci=fuzzy_brew_cask_install
    alias bu=fuzzy_brew_uninstall
    alias bcu=fuzzy_brew_cask_uninstall
  else
    alias bi="brew install"
    alias bci="brew install --cask"
    alias bu="brew uninstall --zap"
    alias bcu="brew uninstall --cask --zap"
  fi

  alias bubu="brew update && brew outdated && brew upgrade && brew cleanup"
fi

# vim: ft=zsh
